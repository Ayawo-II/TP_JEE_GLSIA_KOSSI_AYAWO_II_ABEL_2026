<div class="add-account-container">
  
  <!-- En-t√™te -->
  <div class="header">
    <h1>
      <a routerLink="/client/comptes" class="back-link">‚Üê</a>
      Cr√©er un nouveau compte
    </h1>
    <p *ngIf="clientInfo" class="client-info">Pour : {{ clientInfo.clientNom }}</p>
  </div>

  <!-- Messages -->
  <div *ngIf="message" [class]="isError ? 'message error' : 'message success'">
    {{ message }}
  </div>

  <!-- Formulaire -->
  <form (ngSubmit)="preparerCreation()" #compteForm="ngForm" class="account-form">
    
    <!-- Type de compte -->
    <div class="form-group">
      <label for="typeCompte">Type de compte *</label>
      <div class="type-options">
        <label *ngFor="let type of typesCompte" class="type-option">
          <input 
            type="radio" 
            name="typeCompte" 
            [(ngModel)]="compteData.typeCompte" 
            [value]="type"
            required>
          <div class="option-card" [class.selected]="compteData.typeCompte === type">
            <div class="option-icon">{{ type === 'COURANT' ? 'üí≥' : 'üí∞' }}</div>
            <div class="option-text">
              <h4>{{ type === 'COURANT' ? 'Compte Courant' : 'Compte √âpargne' }}</h4>
              <p>{{ type === 'COURANT' ? 'Pour vos op√©rations quotidiennes' : 'Pour √©pargner et faire des √©conomies' }}</p>
            </div>
          </div>
        </label>
      </div>
    </div>

    <!-- Actions -->
    <div class="form-actions">
      <button 
        type="button" 
        class="btn cancel" 
        routerLink="/client/comptes">
        Annuler
      </button>
      <button type="submit" class="btn submit">
        <span *ngIf="!loading">Cr√©er le compte</span>
        <span *ngIf="loading">Cr√©ation en cours...</span>
      </button>
    </div>

  </form>

  <!-- BO√éTE DE DIALOGUE DE CONFIRMATION -->
  <div *ngIf="showConfirmation" class="confirmation-overlay">
    <div class="confirmation-dialog">
      
      <!-- En-t√™te -->
      <div class="confirmation-header">
        <h3>Confirmer la cr√©ation</h3>
        <button type="button" class="close-btn" (click)="annulerCreation()">√ó</button>
      </div>
      
      <!-- Contenu -->
      <div class="confirmation-content">
        <p>√ätes-vous s√ªr de vouloir cr√©er un compte <strong>{{ compteData.typeCompte === 'COURANT' ? 'Courant' : '√âpargne' }}</strong> ?</p>
        
        <div class="confirmation-details">
          <div class="detail-item">
            <span class="detail-label">Type :</span>
            <span class="detail-value">{{ compteData.typeCompte === 'COURANT' ? 'Compte Courant' : 'Compte √âpargne' }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Client :</span>
            <span class="detail-value">{{ clientInfo?.nom }} {{ clientInfo?.prenom }}</span>
          </div>
        </div>
        
        <p class="confirmation-warning">
          Cette action cr√©era un nouveau compte bancaire associ√© au profil du client {{ clientInfo?.nom }}.
        </p>
      </div>
      
      <!-- Actions -->
      <div class="confirmation-actions">
        <button 
          type="button" 
          class="btn confirmation-cancel" 
          (click)="annulerCreation()">
          Annuler
        </button>
        <button 
          type="button" 
          class="btn confirmation-confirm" 
          (click)="confirmerCreation()">
          Confirmer
        </button>
      </div>
      
    </div>
  </div>

</div>